---
sidebar_position: 1
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import InstallPackage from "./_components/install-package.mdx";
import ConfigurePermissions from "./_components/configure-permissions.mdx";

# Installation

## Optional: Create a New App

<details>
  <summary>Follow these steps to create a new mobile app</summary>

If you don't have an existing project, you can create a new Expo app using a template

```bash
npx create-expo-app@latest my-video-app
```

As the next step, you have to generate native files with the `expo prebuild` command:

```bash
npx expo prebuild
```

You can also follow more detailed [Expo instructions](https://docs.expo.dev/get-started/introduction/).

</details>

## Step 1: Install the Package

Install `@fishjam-cloud/react-native-client` with your preferred package manager.

<InstallPackage />

## Step 2: Configure App Permissions

<ConfigurePermissions />

## Step 3: Request Camera Permissions

Before using the camera or microphone, ask the user for permissions. The `useCameraPermissions` hook returns an array with three elements:

1. `permission`: The current permission status (`null` or a `PermissionResponse` object)
2. `requestPermission`: A function to request permission
3. `getPermission`: A function to get the current permission status

Here's an example of how to use it:

```tsx
import { useCameraPermissions } from "@fishjam-cloud/react-native-client";

const [permission, requestPermission, getPermission] = useCameraPermissions();

useEffect(() => {
  // Request permission when the component mounts
  requestPermission();
}, []);
```

The `permission` object has the following properties:

- `canAskAgain`: Indicates if the user can be asked again for this permission. If `false`, direct the user to the Settings app to enable/disable the permission.
- `expires`: When the permission expires.
- `granted`: Indicates if the permission is granted.
- `status`: The current status of the permission.

> **Important:**
> If you use the default options, you don't need to manually ask for permissions—permission will be requested automatically when the component mounts.

## Step 4: Request Microphone Permissions

To use the microphone, you should also request permissions using the `useMicrophonePermissions` hook. This hook works the same way as `useCameraPermissions` and returns an array with three elements:

1. `permission`: The current permission status (`null` or a `PermissionResponse` object)
2. `requestPermission`: A function to request permission
3. `getPermission`: A function to get the current permission status

Here's an example of how to use it:

```tsx
import { useMicrophonePermissions } from "@fishjam-cloud/react-native-client";

const [permission, requestPermission, getPermission] =
  useMicrophonePermissions();
```

The `permission` object has the following properties:

- `canAskAgain`: Indicates if the user can be asked again for this permission. If `false`, direct the user to the Settings app to enable/disable the permission.
- `expires`: When the permission expires.
- `granted`: Indicates if the permission is granted.
- `status`: The current status of the permission.

> **Important:**
> If you use the default options, you don't need to manually ask for permissions—permission will be requested automatically when the component mounts.
