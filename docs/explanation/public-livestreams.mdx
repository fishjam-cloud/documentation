---
type: explanation
title: Private vs Public Livestreams
sidebar_position: 6
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

# Private vs Public Livestreams

:::info
This explanation only applies to Fishjam rooms with type `livestream`.
:::

When livestreaming with Fishjam, you can chose to make your livestream `private` or `public`.
By default, created livestreams are `private`, to prevent possible bugs.

<Tabs groupId="language">
  <TabItem value="ts" label="Typescript">
  
    ```ts
    const fishjamId = '';
    const managementToken = '';

    // ---cut---
    import { FishjamClient } from '@fishjam-cloud/js-server-sdk';

    const fishjamClient = new FishjamClient({
      fishjamId,
      managementToken,
    });

    const privateRoom = await fishjamClient.createRoom({ roomType: 'livestream' }); // [!code highlight]
    const publicRoom = await fishjamClient.createRoom({ roomType: 'livestream', public: true }); // [!code highlight]
    ```

  </TabItem>

  <TabItem value="python" label="Python">

    ```python
    from fishjam import FishjamClient

    fishjam_client = FishjamClient(
      fishjam_id=fishjam_id,
      management_token=management_token,
    );

    private_room = fishjam_client.create_room(room_type="livestream") # [!code highlight]
    public_room = fishjam_client.create_room(room_type="livestream", public=True) # [!code highlight]
    ```

  </TabItem>
</Tabs>

The choice you make affects how **viewers** connect to the livestream and has no effect on streamers.

## Private livestreams

When you create a private livestream, viewers are required to provide a viewer token when connecting to the livestream.

This aims to provide control over who can view a livestream, but requires you to distribute tokens from your backend application to your frontend applications.

### Creating a viewer token

Below we show how you would create a livestream viewer token in a production scenario, with your own backend.
Note that for development purposes, you can [use the Sandbox API to generate a viewer token](../tutorials/livestreaming#obtaining-a-token-1).

<Tabs groupId="language">
  <TabItem value="ts" label="Typescript">
  
    ```ts
    const fishjamId = '';
    const managementToken = '';

    // ---cut---
    import { FishjamClient } from '@fishjam-cloud/js-server-sdk';

    const fishjamClient = new FishjamClient({
      fishjamId,
      managementToken,
    });


    const privateRoom = await fishjamClient.createRoom({ roomType: 'livestream' });
    const { token: viewerToken } = await fishjamClient.createLivestreamViewerToken(privateRoom.id); // [!code highlight]
    ```

  </TabItem>

  <TabItem value="python" label="Python">

    ```python
    from fishjam import FishjamClient

    fishjam_client = FishjamClient(
      fishjam_id=fishjam_id,
      management_token=management_token,
    );

    private_room = fishjam_client.create_room(room_type="livestream")
    viewer_token = fishjam_client.create_livestream_viewer_token(private_room.id) # [!code highlight]
    ```

  </TabItem>
</Tabs>

### Connecting to a private room

Once you've created a viewer token, you can connect to a room using the Fishjam client SDKs (examples below), or alternatively you can use [WHEP](../how-to/features/whip-whep#private-livestreams).

<Tabs groupId="platform">
  <TabItem value="react" label="React">
  
    ```tsx
    const viewerToken = '';

    // ---cut---
    import { useLivestreamViewer } from '@fishjam-cloud/react-client';

    // ...

    const { connect, stream } = useLivestreamViewer();

    // ...

    await connect({ token: viewerToken });
    // after connecting stream will be available
    ```

  </TabItem>

  <TabItem value="react-native" label="React Native">

    ```tsx
    import React from 'react';

    const viewerToken = '';

    // ---cut---
    import { useLivestreamViewer, RTCView } from '@fishjam-cloud/mobile-client';

    //TODO: FCE-2487 remove it when MediaStream will be updated
    interface MediaStreamWithURL extends MediaStream {
      toURL(): string;
    }

    // Inside your component:
    const { connect, stream } = useLivestreamViewer();

    // ...

    await connect({ token: viewerToken });

    // Render the stream
    const streamURL = stream ? (stream as MediaStreamWithURL).toURL() : null;
    {streamURL && <RTCView streamURL={streamURL} style={{ flex: 1 }} />}
    ```

  </TabItem>
 </Tabs>

## Public livestreams

Public livestreams simplify the viewing process by omitting the viewer token.
All a viewer needs to view a public livestream is the ID of the room, so your backend doesn't need to manage the creation and distribution of viewer tokens.

Note however, that public livestreams are _not suitable for all use-cases_.

For example, if you are developing an app, which includes exclusive live content that requires a subscription to view, then you will want to authorize viewers before allowing them to view a livestream.
Failing to do so may result in extra costs, as livestreams are billed per-viewer.
Such an application will benefit from the token-based authorization in [private livestreams](#private-livestreams).

### Connecting to a public room

Once you've created a room of type `livestream` with the `public` flag enabled, you may start connecting viewers to the stream via the Fishjam client SDKs or [WHEP](../how-to/features/whip-whep#public-livestreams).

<Tabs groupId="platform">
  <TabItem value="react" label="React">
  
    ```tsx
    const roomId = '';

    // ---cut---
    import { useLivestreamViewer } from '@fishjam-cloud/react-client';

    // ...

    const { connect, stream } = useLivestreamViewer();

    // ...

    await connect({ streamId: roomId });
    // after connecting `stream` will be available
    ```

  </TabItem>

  <TabItem value="react-native" label="React Native">

    ```tsx
    import React from 'react';

    const roomId = '';

    // ---cut---
    import { useLivestreamViewer, RTCView } from '@fishjam-cloud/mobile-client';

    //TODO: FCE-2487 remove it when MediaStream will be updated
    interface MediaStreamWithURL extends MediaStream {
      toURL(): string;
    }

    // Inside your component:
    const { connect, stream } = useLivestreamViewer();

    // ...

    await connect({ streamId: roomId });

    // Render the stream
    const streamURL = stream ? (stream as MediaStreamWithURL).toURL() : null;
    {streamURL && <RTCView streamURL={streamURL} style={{ flex: 1 }} />}
    ```

  </TabItem>
 </Tabs>
