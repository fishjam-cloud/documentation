---
id: add-peer
title: "Create peer"
description: "Create peer"
sidebar_label: "Create peer"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: api/fishjam-doc/fishjam-media-server
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create peer"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/room/{room_id}/peer"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Create peer

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"description":"Room id","in":"path","name":"room_id","required":true,"schema":{"type":"string"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"properties":{"options":{"description":"Peer-specific options","oneOf":[{"description":"Options specific to the WebRTC peer","properties":{"enableSimulcast":{"default":true,"description":"Enables the peer to use simulcast","type":"boolean"},"metadata":{"additionalProperties":true,"description":"Custom peer metadata","type":"object"},"subscribe":{"additionalProperties":false,"description":"Configuration of server-side subscriptions to the peer's tracks","example":{"audioFormat":"pcm16"},"nullable":true,"properties":{"audioFormat":{"default":"pcm16","description":"The format of the output audio","enum":["pcm16"],"example":"pcm16","type":"string"},"audioSampleRate":{"default":16000,"description":"The sample rate of the output audio","enum":[16000,24000],"example":16000,"type":"integer"}},"title":"SubscribeOptions","type":"object"}},"title":"PeerOptionsWebRTC","type":"object"},{"description":"Options specific to the Agent peer","properties":{},"title":"PeerOptionsAgent","type":"object"}],"title":"PeerOptions","type":"object"},"type":{"description":"Peer type","enum":["webrtc","agent"],"example":"webrtc","title":"PeerType","type":"string"}},"required":["type","options"],"type":"object"}}},"description":"Peer specification","required":false}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"201":{"content":{"application/json":{"schema":{"description":"Response containing peer details and their token","properties":{"data":{"properties":{"peer":{"description":"Describes peer status","properties":{"id":{"description":"Assigned peer id","example":"peer-1","type":"string"},"metadata":{"description":"Custom metadata set by the peer","example":{"name":"FishjamUser"},"nullable":true,"title":"PeerMetadata"},"status":{"description":"Informs about the peer status","enum":["connected","disconnected"],"example":"disconnected","title":"PeerStatus","type":"string"},"subscribe":{"additionalProperties":false,"description":"Configuration of server-side subscriptions to the peer's tracks","example":{"audioFormat":"pcm16"},"nullable":true,"properties":{"audioFormat":{"default":"pcm16","description":"The format of the output audio","enum":["pcm16"],"example":"pcm16","type":"string"},"audioSampleRate":{"default":16000,"description":"The sample rate of the output audio","enum":[16000,24000],"example":16000,"type":"integer"}},"title":"SubscribeOptions","type":"object"},"tracks":{"description":"List of all peer's tracks","items":{"description":"Describes media track of a Peer or Component","properties":{"id":{"type":"string"},"metadata":{"nullable":true},"type":{"enum":["audio","video"],"type":"string"}},"title":"Track","type":"object"},"type":"array"},"type":{"description":"Peer type","enum":["webrtc","agent"],"example":"webrtc","title":"PeerType","type":"string"}},"required":["id","type","status","tracks","metadata","subscribe"],"title":"Peer","type":"object"},"peer_websocket_url":{"description":"Websocket URL to which peer has to connect","example":"www.fishjam.org/socket/peer","title":"WebsocketURL","type":"string"},"token":{"description":"Token for authorizing websocket connection","example":"5cdac726-57a3-4ecb-b1d5-72a3d62ec242","title":"AuthToken","type":"string"}},"required":["peer","token"],"type":"object"}},"required":["data"],"title":"PeerDetailsResponse","type":"object"}}},"description":"Peer successfully created"},"400":{"content":{"application/json":{"schema":{"description":"Error message","properties":{"errors":{"description":"Error details","example":"Token has expired","type":"string"}},"required":["errors"],"title":"Error","type":"object"}}},"description":"Invalid request body structure"},"401":{"content":{"application/json":{"schema":{"description":"Error message","properties":{"errors":{"description":"Error details","example":"Token has expired","type":"string"}},"required":["errors"],"title":"Error","type":"object"}}},"description":"Unauthorized"},"404":{"content":{"application/json":{"schema":{"description":"Error message","properties":{"errors":{"description":"Error details","example":"Token has expired","type":"string"}},"required":["errors"],"title":"Error","type":"object"}}},"description":"Room doesn't exist"},"503":{"content":{"application/json":{"schema":{"description":"Error message","properties":{"errors":{"description":"Error details","example":"Token has expired","type":"string"}},"required":["errors"],"title":"Error","type":"object"}}},"description":"Service temporarily unavailable"}}}
>
  
</StatusCodes>


      